docker-compose up -d

docker-compose down




Accéder au conteneur PHP :

docker-compose exec web bash
docker-compose exec symfony_app bash


Utiliser le conteneur MySQL :

docker-compose exec db mysql -u user -p








[cree table base de données]
PS H:\Dévelopeur WEB\Projet final> docker exec -it symfony_app bin/console doctrine:schema:update --force







mysql> USE symfony;
Database changed
mysql> SHOW TABLES;
Empty set (0.00 sec)

mysql> SHOW TABLES;
+-----------------------------+
| Tables_in_symfony           |
mysql> SHOW TABLES;
Empty set (0.00 sec)

mysql> SHOW TABLES;
+-----------------------------+
| Tables_in_symfony           |
| Tables_in_symfony           |
| doctrine_migration_versions |
| messenger_messages          |
| user                        |
+-----------------------------+
3 rows in set (0.01 sec)



___________execute les migrations___________

Exécuter les Migrations :

Tu peux exécuter la migration en utilisant la commande suivante :

docker exec -it symfony_app bin/console doctrine:migrations:migrate

Vérifier les Tables :

Après avoir exécuté les migrations, tu peux vérifier si les tables sont créées dans la base de données en utilisant phpMyAdmin ou en te connectant directement à MySQL :

docker exec -it mysql mysql -u user -p

Ensuite, utilise :

USE symfony;
SHOW TABLES;

Valider l'État des Migrations :

Après avoir exécuté les migrations, tu peux vérifier de nouveau l'état des migrations pour t'assurer que tout est à jour :

docker exec -it symfony_app bin/console doctrine:migrations:status


___Créer une Migration pour l'Entité User :

Si l'entité User est correcte, tu dois générer une nouvelle migration pour créer la table associée :

docker exec -it symfony_app bin/console make:migration

Cela créera un fichier de migration pour la table user.

Appliquer la Migration :

Applique la migration pour créer la table user dans la base de données :

docker exec -it symfony_app bin/console doctrine:migrations:migrate





_________________________________________les requetes
phpmuadmin pour cree les produit : 


INSERT INTO `product` (`name`, `price`, `description`, `image`) VALUES
('Plein tarif Adulte (+ de 13 ans)', 29.00, 'Tarif plein pour les adultes de plus de 13 ans', 'images/plein_tarif_adulte.jpg'),
('Tarif Réduit Adulte (+ de 13 ans)', 19.00, 'Tarif réduit pour les adultes de plus de 13 ans', 'images/tarif_reduit_adulte.jpg'),
('Tarif Enfant (3 - 12 ans)', 19.00, 'Tarif pour les enfants de 3 à 12 ans', 'images/tarif_enfant.jpg'),
('Enfant - Moins de 3 ans', 0.00, 'Gratuit pour les enfants de moins de 3 ans', 'images/enfant_moins_de_3_ans.jpg');



------old :

-- Ajouter le produit "Plein tarif Adulte (+ de 13 ans)"
INSERT INTO `product` (`name`, `price`, `description`, `image`) VALUES
('Plein tarif Adulte (+ de 13 ans)', 29.00, 'Tarif plein pour les adultes de plus de 13 ans', 'images/plein_tarif_adulte.jpg');

-- Ajouter le produit "Tarif Réduit Adulte (+ de 13 ans)"
INSERT INTO `product` (`name`, `price`, `description`, `image`) VALUES
('Tarif Réduit Adulte (+ de 13 ans)', 19.00, 'Tarif réduit pour les adultes de plus de 13 ans', 'images/tarif_reduit_adulte.jpg');

-- Ajouter le produit "Tarif Enfant (3 - 12 ans)"
INSERT INTO `product` (`name`, `price`, `description`, `image`) VALUES
('Tarif Enfant (3 - 12 ans)', 19.00, 'Tarif pour les enfants de 3 à 12 ans', 'images/tarif_enfant.jpg');

-- Ajouter le produit "Enfant - Moins de 3 ans"
INSERT INTO `product` (`name`, `price`, `description`, `image`) VALUES
('Enfant - Moins de 3 ans', 0.00, 'Gratuit pour les enfants de moins de 3 ans', 'images/enfant_moins_de_3_ans.jpg');

_____________________________________________________________
Vérifie que le composant symfony/http-foundation est bien installé :(pour la creation du panier)Vérification des dépendances :

    Assure-toi que tu as bien installé le package Symfony pour la gestion des sessions. Exécute cette commande :

composer require symfony/http-foundation


